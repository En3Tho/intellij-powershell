Contributor Guide
=================

Issue Tracker
-------------
Looking to contribute? That's great!

Take a look at the following labels in the issue tracker:
- [good first issue][issues.good-first-issue]: gets assigned to the issues that are assumed to be appropriate for new contributors to get themselves familiar with the code;
- [help wanted][issues.help-wanted]: this is a wider scope, gets assigned to any issues that require help from contributors.

Keep an eye on the following issue labels:
- [status:waiting-for-info][issues.waiting-for-info]: a bot automatically closes these issues if there's no activity for 2 weeks. The maintainers should remove this label after they've got the info they've requested from the users, to prevent the bot from closing the issue.

Development Prerequisites
-------------------------
To develop the plugin, JDK 17 should be installed. For example, get [Amazon Corretto 17][downloads.corretto].

Build and Test
--------------
Use the following shell command:
```
$ ./gradlew build
```

Lexer and Parser
----------------
This project uses lexer generated by JFlex and parser generated by Grammar-Kit, as described in the IntelliJ documentation:
- [Implementing Lexer][docs.lexer]
- [Implementing Parser and PSI][docs.parser]

To update them, follow the steps:
1. Make changes to either `src/main/resources/_PowerShellLexer.flex` (lexer) or `src/main/resources/PowerShell.bnf` (parser).
2. Make sure you have the [Grammar-Kit][plugins.grammar-kit] plugin installed for IntelliJ IDEA.
3. **For lexer**: right-click the `.jflex` file in the IDE, and choose the action **Run JFlex Generator**. Choose the `build` directory if it asks where to download the JFlex binaries. After that, it will regenerate the `com.intellij.plugin.powershell.lang._PowerShellLexer` class.
4. **For parser**: right-click the `.bnf` file in the IDE, and choose the action **Generate Parser Code**. It will regenerate the parser and PSI classes.

[docs.lexer]: https://plugins.jetbrains.com/docs/intellij/implementing-lexer.html
[docs.parser]: https://plugins.jetbrains.com/docs/intellij/implementing-parser-and-psi.html
[downloads.corretto]: https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/downloads-list.html
[issues.good-first-issue]: https://github.com/ant-druha/intellij-powershell/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22
[issues.help-wanted]: https://github.com/ant-druha/intellij-powershell/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22
[issues.waiting-for-info]: https://github.com/ant-druha/intellij-powershell/issues?q=is%3Aissue+is%3Aopen+label%3Astatus%3Awaiting-for-info
[plugins.grammar-kit]: https://plugins.jetbrains.com/plugin/6606-grammar-kit
